<html>
<head>
  <title>Robustness</title><script type="text/javascript" src="../CodeScripts/SyntaxHighlighter/scripts/shCore.js"></script><script type="text/javascript" src="../CodeScripts/SyntaxHighlighter/scripts/shBrushDelphi.js"></script><script type="text/javascript" src="../CodeScripts/SyntaxHighlighter/scripts/shBrushCpp.js"></script><script type="text/javascript" src="../CodeScripts/SyntaxHighlighter/scripts/shBrushCSharp.js"></script><link rel="stylesheet" type="text/css" href="../Styles/default.css"/><link rel="stylesheet" type="text/css" href="../Menu/menu.css"/><link rel="stylesheet" type="text/css" href="../CodeScripts/SyntaxHighlighter/styles/shCoreDefault.css"/><link rel="stylesheet" type="text/css" href="../CodeScripts/SyntaxHighlighter/styles/shThemeDefault.css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"><script type="text/javascript" src="../Menu/menu.js"></script><script type="text/javascript" src="../CodeScripts/bootstrap.js"></script>
</head>
<body bgcolor="#FFFFFF" onload="OnLoadEvent()">
  <div class="menu" id="menu" onmouseleave="OnMouseLeaveEvent()"><a class="ancestor" href="_Body.htm">Index</a><a href="./Overview.htm">Overview</a><span class="submenu_owner" onmouseover="onSubmenuPopup(this)"><span class="submenu_heading">Units</span>
      <div class="submenu_background"><a href="./Units/Clipper/_Body.htm">Clipper</a><a href="./Units/Clipper.Core/_Body.htm">Clipper.Core</a><a href="./Units/Clipper.Engine/_Body.htm">Clipper.Engine</a><a href="./Units/Clipper.Export/_Body.htm">Clipper.Export</a><a href="./Units/Clipper.Minkowski/_Body.htm">Clipper.Minkowski</a><a href="./Units/Clipper.Offset/_Body.htm">Clipper.Offset</a><a href="./Units/Clipper.RectClip/_Body.htm">Clipper.RectClip</a>
      </div></span><span class="active">Robustness</span><a href="./USINGZ.htm">USINGZ</a><a href="./FAQ.htm">FAQ</a><a href="./Trigonometry.htm">Trigonometry</a><a class="icon_container" id="icon_container" href="javascript:void(0)" onclick="hamburger()"><img id="menu_icon" src="../Menu/hamburger.svg"></a>
  </div><br><br>

  <h1>Robustness</h1>
  <p> In computational geometry, polygon coordinates are <a href="https://cs.stackexchange.com/q/71657" target="_blank"><b>always</b></a> represented by discrete numbers, whether as integer or float variables. And quite often these coordinate values differ from their <a href="https://en.wikipedia.org/wiki/Real_number" target="_blank"><b>real</b></a> values. While geometric imprecision is usually more obvious when using integer coordinates, it still occurs when using float values. And if this imprecision isn't anticipated and handled properly, geometric computations won't be reliable (<a href="https://en.wikipedia.org/wiki/Robust_geometric_computation" target="_blank"><b>numerically robust</b></a>). For example, some imprecision must be expected when calculating where line segments intersect.<br><br> Imprecision associated with float variables (whether single or double type) will vary considerably depending on the size of their contained values. But integer imprecision will always be constant (&plusmn;1 unit). And since it's much easier to differentiate significant from insignificant imprecision with integer coordinates, the Clipper library uses these internally for all geometric calculations. Because the Clipper library avoids calculations that assume exact coordinates, it <i>is</i> numerically robust.<br><br> <span class="maroon">Caution: Since integer imprecision is &plusmn;1 unit, the library user shouldn't expect solutions to contain polygons with near zero areas. For example, a triangle in a solution with an edge that's only 1 unit in length will be considered within a rounding adjustment of having zero area. These near zero area polygons will be removed from solutions. So it's important that library users appropriately scale paths in clipping operations when you would otherwise expect polygons with very small areas. (Alternatively, use the <a href="./Units/Clipper/Types/PathsD.htm"><b>PathsD</b></a> structure instead of <b>Paths64</b> when clipping, since the library will perform the required scaling internally.)</span><br><br> </p>
  <h2>Self-intersection artefacts</h2>
  <p> 
    <h2>Example 1</h2> </p>
  <p> In the unscaled image below, the area of intersection of two polygons has been highlighted in bright green.<br><br> <img src="../Images/rounding1.svg" style="float: right;" alt=""> <br> When we zoom in on the lowest point of intersection, in Clipper1 we'd find a tiny self-intersecting artefact in the clipping solution. This self-intersection occurs because 1. the polygon wasn't split into two polygons, and 2. the orientation of the 3 lowermost vertices is reversed due to vertex rounding. (The three black dots highlight the 'real' unrounded points of intersection, and the red dots show where these three points are located once rounding is applied.). In Clipper2, this polygon is first split into two polygons, and since the smaller polygon has negligible area, it's discarded from the solution.<br> <img src="../Images/rounding2.svg" alt=""><br><br> </p>
  <p>
    <h2>Example 2</h2></p>
  <p> <img src="../Images/rounding4.svg" alt=""><br> Performing a <a href="./Units/Clipper/Functions/Union.htm"><b>union</b> </a>operation on this second polygon won't remove its two tiny self-intersections because they won't be detected due to rounding. With scaling however (eg &times; 100), these self-intersections will be detected and the polygon will be transformed into 3 separate polygons. But even the most aggressive scaling won't prevent self-intersections occurring on (relatively rare) occasions. Nevertheless, with sensible scaling, these tiny self-intersections are unlikely to cause problems for the library user.<br> </p>
  <h2 id="Auto-SeeAlso">See Also</h2>
  <p class="Body"><a href="Units/Clipper/Functions/Union.htm">Union</a>, <a href="Units/Clipper/Types/PathsD.htm">PathsD</a></p>
  <p class="Copyright" id="auto"> <br><br> Copyright &#169; 2010-2024 Angus Johnson &#160; - &#160; Clipper2 1.3.0 &#160; - &#160; Help file built on 14 Jan 2024<br><br> </p>

</body>
</html>
